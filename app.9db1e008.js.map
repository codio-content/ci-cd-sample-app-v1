{"version":3,"sources":["app.js"],"names":["_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","len","length","arr2","_i","Symbol","iterator","_s","_e","_x","_r","_arr","_n","_d","next","done","push","value","err","return","isArray","require","lastButton","operatorValue","calcOperator","lastOperator","total","operators","equal","dot","numbers","firstNum","result","document","querySelector","calculate","num1","num2","operator","parseFloat","innerText","Number","isInteger","toPrecision","plusMinus","includes","buttonNumber","button","getElementsByClassName","lastOperationHistory","getElementById","concat","tempNum","historyArr","split","join","calc","addEventListener","event","target","classList","contains"],"mappings":"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","file":"app.9db1e008.js","sourceRoot":"..\\src","sourcesContent":["import './main.css'\n\nconst operators = ['+', '-', '/', '*']\nconst equal = '='\nconst dot = '.'\nlet numbers = []\nlet firstNum = true\nlet lastButton\nlet operatorValue\nlet calcOperator\nlet lastOperator\nlet total\n\nconst result = document.querySelector('#result')\n\nexport default function calculate(num1, num2, operator) {\n  if (operator === '+') {\n    total = parseFloat(num1) + parseFloat(num2)\n  } else if (operator === '-') {\n    total = parseFloat(num1) - parseFloat(num2)\n  } else if (operator === '*') {\n    total = parseFloat(num1) * parseFloat(num2)\n  } else if (operator === '/') {\n    total = parseFloat(num1) / parseFloat(num2)\n  } else if (total === result.innerText) {\n    return total\n  } else {\n    return result.innerText\n  }\n  if (!Number.isInteger(total)) {\n    total = total.toPrecision(12)\n  }\n  return parseFloat(total)\n}\n\nfunction plusMinus() {\n  if (typeof lastOperator !== 'undefined') {\n    if (numbers.length > 0) {\n      if (operators.includes(lastButton)) {\n        if (result.innerText === '-') {\n          result.innerText = 0\n          firstNum = true\n          return\n        }\n        result.innerText = '-'\n        firstNum = false\n      } else {\n        result.innerText = -result.innerText\n        if (numbers.length === 1) {\n          numbers[0] = result.innerText\n        } else {\n          numbers[1] = result.innerText\n        }\n      }\n    }\n    return\n  }\n  if (result.innerText === '') {\n    result.innerText = '-'\n    firstNum = false\n    return\n  }\n  result.innerText = -result.innerText\n}\n\nfunction buttonNumber(button) {\n  const operator = document.getElementsByClassName('operator')\n  const lastOperationHistory = document.getElementById('operation_history')\n  lastButton = button\n\n  if (button === 'C') {\n    lastButton = null\n    operatorValue = null\n    calcOperator = null\n    lastOperator = null\n    total = null\n    lastOperationHistory.innerText = ''\n    result.innerText = ''\n    return\n  }\n\n  if (button === '±') {\n    plusMinus()\n    return\n  }\n\n  if (!operators.includes(button) && button !== equal) {\n    if (firstNum) {\n      if (button === dot) {\n        result.innerText = `0${dot}`\n      } else {\n        result.innerText = button\n      }\n      firstNum = false\n    } else {\n      if (result.innerText.length === 1 && result.innerText === 0) {\n        if (button === dot) {\n          result.innerText += button\n        }\n        return\n      }\n      if (result.innerText.includes(dot) && button === dot) {\n        return\n      }\n      if (result.innerText.length === 10) {\n        return\n      }\n      if (button === dot && result.innerText === '-') {\n        result.innerText = `-0${dot}`\n      } else {\n        result.innerText += button\n      }\n    }\n  } else {\n    if (operatorValue != null && button === operatorValue) {\n      return\n    }\n    if (button === '-' && result.innerText === 0) {\n      result.innerText = button\n      firstNum = false\n      operatorValue = button\n      return\n    }\n    if (operators.includes(button) && result.innerText === '-') {\n      return\n    }\n    if (\n      button === '-' &&\n      operatorValue === '-' &&\n      lastOperationHistory.innerText.includes('=')\n    ) {\n      return\n    }\n\n    if (operators.includes(button)) {\n      if (typeof lastOperator !== 'undefined' && lastOperator != null) {\n        calcOperator = lastOperator\n      } else {\n        calcOperator = button\n      }\n      if (button === '*') {\n        lastOperator = '×'\n      } else if (button === '/') {\n        lastOperator = '÷'\n      } else {\n        lastOperator = button\n      }\n      operatorValue = button\n      firstNum = true\n    }\n\n    if (numbers.length === 0) {\n      numbers.push(result.innerText)\n      if (typeof lastOperator !== 'undefined' && lastOperator != null) {\n        lastOperationHistory.innerText = `${result.innerText} ${lastOperator}`\n      }\n    } else {\n      if (numbers.length === 1) {\n        numbers[1] = result.innerText\n      }\n      let tempNum = result.innerText\n\n      if (button === equal && calcOperator != null) {\n        total = calculate(numbers[0], numbers[1], calcOperator)\n        result.innerText = total\n        if (!lastOperationHistory.innerText.includes('=')) {\n          lastOperationHistory.innerText += ` ${numbers[1]} =`\n        }\n        const [num1] = numbers\n        tempNum = num1\n        numbers[0] = total\n        operatorValue = null\n        const historyArr = lastOperationHistory.innerText.split(' ')\n        historyArr[0] = tempNum\n        lastOperationHistory.innerText = historyArr.join(' ')\n      } else if (calcOperator != null) {\n        lastOperationHistory.innerText = `${tempNum} ${lastOperator}`\n        calcOperator = button\n        numbers = []\n        numbers.push(result.innerText)\n      }\n    }\n  }\n  calculate(numbers[0], numbers[1], operator)\n}\n\nconst calc = document.querySelector('.calc')\nif (calc) {\n  calc.addEventListener('click', (event) => {\n    if (!event.target.classList.contains('calc__btn')) return\n    buttonNumber(event.target.innerText)\n  })\n}\n"]}